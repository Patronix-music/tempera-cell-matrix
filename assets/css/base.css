/* Auto-split from tcm.css (v2.7.16) into logical files: base/layout/components/matrix/inspector/overlays */
    /* Fixed background layer (prevents scrolling "bands" through translucent panels) */
    /* Inline button group so buttons stay adjacent (e.g., Random 64 + Export/Import/Help) */
    /* Mini row under copyright: Enable audio + Stop/Clear */
    .actionsRow2 .rowLeft,
    /* Center labels for Safari-safe BPM/Beats controls */
    /* Row accents (subtle strip per slice row; avoids full-width bands) */
    /* Selected cell: hide left color stripe when inner purple highlight is active */
    /* Tighten cell-top row so Slice / Fit / M / R always fit on one line (Safari-safe) */
    /* Cell-top row: keep Slice / Fit / M / R on one line and same height */
    .cellTop .tag,
    /* Inspector */
    /* Center the control vertically within the card (keeps label at top) */
    /* Exports */
    /* ===== Download modal ===== */
    /* colBtns responsive */
    /* ===== Column buttons: force 2 per row (even spacing) ===== */
    /* ===== Help overlay ===== */
	    /* Release notes spans the full help grid width (two cards wide) and stays at the bottom. */
    /* Number steppers (Safari-safe) */
/* v2.5.12: hide native number input spinners (Firefox + WebKit) */
input[type="number"]::-webkit-outer-spin-button,
    /* Inspector Info: keep row height aligned */
    /* Footer info can wrap (show full text) */
    /* Footer info can wrap (show full text without overflowing) */
/* Folder picker overlay uses help panel look */
    /* Header field alignment (labels above values) */
    /* Random 64 filter overlay */
    /* Header grouping + compact layout */
    /* Header: 2 rows with grouped blocks */
    /* Inspector info box: keep text inside and give it more width */
    /* Header: single row across full width */
    .actionsRow1 .rowLeft.group,
    /* Prevent long info strings from forcing grid overflow */
/* Header controls: keep items compact */
    /* Compact header so all controls fit */
    /* Title + spec line on one row */
/* v2.28.43: M/R pills normal weight */
/* v2.28.48: keep all 6 inspector control blocks on one row (when screen allows) */
/* Info: wrap netjes binnen het control-block */
/* v2.28.49: Info control should be same width as other inspector controls */
/* v2.28.52: Info block mag niet clippen */
/* v2.28.57: visual separators between header control groups */
/* v2.28.59: prevent header horizontal overflow (Name field) */
/* Make the Name control reliably fit in the viewport */
/* v2.5.4: merged Name input + history dropdown button (no typeahead) */
/* v2.3.1: editable column names */
/* v2.4.0: export preset naming + column name input styled like cell buttons */
/* v2.5.5: allow header dropdowns to overlap main */
/* v2.5.24 Wave Editor overlay (foundation) */
/* v2.5.30 Wave Editor shortcuts */
/* v2.6.7 Wave Editor affordances */
/* v2.6.7 Scissors affordance (cross-browser) */
/* v2.6.7 Wave Editor corner scissor */
/* v2.6.7 Waveform wrapper for in-scope scissors */
/* v2.6.7 Random 64 filter indicator */
/* --- Split Editor selections --- */
  /* Split editor hint readability */
  /* Split hint: visible + wraps */
  /* Split hint wrap */
  /* === Handle Magnifier (Fase 1) === */
    /* Z Auto-Norm indicator */
  /* Right align Z indicator in magnifier label */
/* Help compactness tweaks (2.7.16) */
/* Help popup compact fit tweaks (avoid internal scrollbar on common viewports) */
/* --- Help compact + no horizontal overflow --- */
/* Release notes: two columns, compact */

    :root{
      --ctrlH: 40px;
      --bg0:#05070b;
      --bg1:#081225;
      --panel:rgba(255,255,255,0.05);
      --panel2:rgba(255,255,255,0.035);
      --border:rgba(255,255,255,0.10);
      --border2:rgba(255,255,255,0.18);
      --text:#e9f0fb;
      --fg: var(--text);
      --miniBtnH: calc(var(--ctrlH) - 8px);
      --muted:#9bb0cb;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --good:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow: 0 12px 40px rgba(0,0,0,0.55);
      --radius: 14px;
      --radius2: 12px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ background: linear-gradient(180deg, var(--bg1), var(--bg0) 65%); }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      position: relative;
      background: transparent;
      overflow-x:auto;
    }
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background:
        radial-gradient(900px 500px at 18% 0%, rgba(125, 211, 252, 0.12), transparent 60%),
        radial-gradient(900px 500px at 82% 0%, rgba(167, 139, 250, 0.12), transparent 60%),
        radial-gradient(1200px 800px at 50% 20%, rgba(255,255,255,0.03), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg0) 65%);
      transform: translateZ(0);
    }
    h1{
      margin:0;
      font-size: 16px;
      letter-spacing: 0.2px;
      font-weight: 800;
    }
    .sub{
      margin-top: 6px;
      color: var(--muted);
      font-size: 11px;
      line-height: 1.35;
    }
    #bpm, #beatsPerCell{ text-align:center; }
    .tag{
      font-family: var(--mono);
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.20);
      color: var(--muted);
      white-space: nowrap;
    }
    .fname{
      font-size: 10px;
      color: var(--text);
      opacity: .92;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      flex: 1 1 auto;
      min-width: 0;
      text-align: right;
    }
    .icons{
      display:flex;
      gap:6px;
      align-items:center;
      flex-wrap:nowrap;
      justify-content:flex-end;
      margin-left:auto;
    }
    .mode{ margin-left: 2px; }
.icon{
      font-family: var(--mono);
      font-weight: 900;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.20);
      color: var(--muted);
      opacity: .95;
    }
    .icon.on{
      border-color: rgba(52,211,153,0.35);
      color: rgba(233,240,251,0.95);
      background: rgba(52,211,153,0.12);
    }
    .icon.warn{
      border-color: rgba(251,191,36,0.35);
      background: rgba(251,191,36,0.10);
    }
    .tag.warn{
      border-color: rgba(251,191,36,0.35);
      background: rgba(251,191,36,0.10);
    }
    .muted{ color: var(--muted); }
    .tempoGroup{
      min-width: 420px;
    }
    .tempoGroup{
      flex: 1 1 420px;
      justify-content: flex-start;
    }
    .infoCtrl{ grid-column: span 2; }
    @media (max-width: 980px){
      .infoCtrl{ grid-column: span 3; }
    }
    @media (max-width: 720px){
      .infoCtrl{ grid-column: 1 / -1; }
    }
.infoCtrl .sub{
  white-space: pre-line;
  overflow: visible;
  text-overflow: clip;
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.25;
}
.infoCtrl{ grid-column: auto !important; }
#nameTemplate{
  width: clamp(120px, 14vw, 219px);  /* never forces horizontal scroll */
  max-width: 100%;
}
@media (max-width: 900px){
  #nameTemplate{ width: clamp(110px, 36vw, 150px); }
}
#nameTemplateHistory{
  width: clamp(120px, 14vw, 219px);
  max-width: 100%;
  height: calc(var(--ctrlH) - 8px);
}
#random64Btn{ position:relative; }
#random64Btn .filterIcon{
  display:none;
  width:14px;
  height:14px;
  margin-left:6px;
  vertical-align:-2px;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%2024%2024%27%3E%0A%3Cpath%20d%3D%27M3%205h18l-7%208v5l-4%202v-7L3%205z%27%20fill%3D%27white%27%20fill-opacity%3D%270.9%27/%3E%0A%3C/svg%3E");
  background-repeat:no-repeat;
  background-size:14px 14px;
  opacity:0.85;
}
#random64Btn.hasFilter .filterIcon{ display:inline-block; }
  .z-indicator::before{
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 3px;
    border: 1px solid rgba(255,255,255,0.55);
    background: rgba(255,255,255,0.08);
    opacity: 0.25;
  }
  .z-indicator.armed::before{
    opacity: 0.55;
  }
  .z-indicator.active::before{
    opacity: 1;
    box-shadow: 0 0 0 2px rgba(255,255,255,0.15);
  }
